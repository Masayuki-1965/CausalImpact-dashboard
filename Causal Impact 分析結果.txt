Causal Impact 分析結果

データ先頭:
            treatment_group  control_group
ymd
2017-04-01              235          36520
2017-05-01              313          37489
2017-06-01              244          39326
2017-07-01              268          45622
2017-08-01              279          37446
データ末尾:
            treatment_group  control_group
ymd
2024-02-01               71          33399
2024-03-01               67          35280
2024-04-01               75          36443
2024-05-01              101          38941
2024-06-01              110          36117
日付範囲: 2017-04-01 00:00:00 ～ 2024-06-01 00:00:00
pre_period: ['2017-04-01', '2020-08-01']
post_period: ['2020-09-01', '2020-10-01']
欠損値有無: treatment_group    0
control_group      0
dtype: int64
C:\Users\kanek\AICording\Lectures\Python講座\CausalImpact-Analyzer\venv\Lib\site-packages\causalimpact\main.py:603: FutureWarning: DataFrame.applymap has been deprecated. Use DataFrame.map instead.
  if not data.applymap(np.isreal).values.all():
C:\Users\kanek\AICording\Lectures\Python講座\CausalImpact-Analyzer\venv\Lib\site-packages\causalimpact\main.py:302: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  self.mu_sig = (mu[0], sig[0])
C:\Users\kanek\AICording\Lectures\Python講座\CausalImpact-Analyzer\venv\Lib\site-packages\statsmodels\tsa\base\tsa_model.py:473: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
C:\Users\kanek\AICording\Lectures\Python講座\CausalImpact-Analyzer\venv\Lib\site-packages\statsmodels\base\optimizer.py:19: FutureWarning: Keyword arguments have been passed to the optimizer that have no effect. The list of allowed keyword arguments for method lbfgs is: m, pgtol, factr, maxfun, epsilon, approx_grad, bounds, loglike_and_score, iprint. The list of unsupported keyword arguments passed include: nseasons, standardize. After release 0.14, this will raise.
  warnings.warn(
C:\Users\kanek\AICording\Lectures\Python講座\CausalImpact-Analyzer\venv\Lib\site-packages\statsmodels\tsa\statespace\representation.py:374: FutureWarning: Unknown keyword arguments: dict_keys(['alpha']).Passing unknown keyword arguments will raise a TypeError beginning in version 0.15.
  warnings.warn(msg, FutureWarning)
C:\Users\kanek\AICording\Lectures\Python講座\CausalImpact-Analyzer\venv\Lib\site-packages\statsmodels\tsa\base\tsa_model.py:473: ValueWarning: A date index has been provided, but it has no associated frequency information and so will be ignored when e.g. forecasting.
  self._init_dates(dates, freq)
C:\Users\kanek\AICording\Lectures\Python講座\CausalImpact-Analyzer\venv\Lib\site-packages\statsmodels\tsa\statespace\representation.py:374: FutureWarning: Unknown keyword arguments: dict_keys(['ar']).Passing unknown keyword arguments will raise a TypeError beginning in version 0.15.
  warnings.warn(msg, FutureWarning)
Posterior Inference {Causal Impact}
                          Average            Cumulative
Actual                    847.0              1694.0
Prediction (s.d.)         255.3 (46.7)       510.6 (93.4)
95% CI                    [159.9, 343.0]     [319.7, 686.0]

Absolute effect (s.d.)    591.7 (46.7)       1183.4 (93.4)
95% CI                    [504.0, 687.1]     [1008.0, 1374.3]

Relative effect (s.d.)    231.8% (18.3%)     231.8% (18.3%)
95% CI                    [197.4%, 269.2%]   [197.4%, 269.2%]

Posterior tail-area probability p: 0.0
Posterior prob. of a causal effect: 100.00%

For more details run the command: print(impact.summary('report'))
Analysis report {CausalImpact}


During the post-intervention period, the response variable had
an average value of approx. 847.0. By contrast, in the absence of an
intervention, we would have expected an average response of 255.3.
The 95% interval of this counterfactual prediction is [159.9, 343.0].
Subtracting this prediction from the observed response yields
an estimate of the causal effect the intervention had on the
response variable. This effect is 591.7 with a 95% interval of
[504.0, 687.1]. For a discussion of the significance of this effect,
see below.


Summing up the individual data points during the post-intervention
period (which can only sometimes be meaningfully interpreted), the
response variable had an overall value of 1694.0.
By contrast, had the intervention not taken place, we would have expected
a sum of 510.6. The 95% interval of this prediction is [319.7, 686.0].


The above results are given in terms of absolute numbers. In relative
terms, the response variable showed an increase of +231.8%. The 95%
interval of this percentage is [197.4%, 269.2%].


This means that the positive effect observed during the intervention
period is statistically significant and unlikely to be due to random
fluctuations. It should be noted, however, that the question of whether
this increase also bears substantive significance can only be answered
by comparing the absolute effect (591.7) to the original goal
of the underlying intervention.


The probability of obtaining this effect by chance is very small
(Bayesian one-sided tail-area probability p = 0.0).
This means the causal effect can be considered statistically
significant.
